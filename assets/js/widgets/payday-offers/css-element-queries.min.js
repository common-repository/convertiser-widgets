"use strict";!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.ResizeSensor=b()}("undefined"!=typeof window?window:this,function(){function a(a,b){var c=Object.prototype.toString.call(a),d="[object Array]"===c||"[object NodeList]"===c||"[object HTMLCollection]"===c||"[object Object]"===c||"undefined"!=typeof jQuery&&a instanceof jQuery||"undefined"!=typeof Elements&&a instanceof Elements,e=0,f=a.length;if(d)for(;e<f;e++)b(a[e]);else b(a)}function b(a){if(!a.getBoundingClientRect)return{width:a.offsetWidth,height:a.offsetHeight};var b=a.getBoundingClientRect();return{width:Math.round(b.width),height:Math.round(b.height)}}if("undefined"==typeof window)return null;var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)},d=function(e,f){function g(){var a=[];this.add=function(b){a.push(b)};var b,c;this.call=function(){for(b=0,c=a.length;b<c;b++)a[b].call()},this.remove=function(d){var e=[];for(b=0,c=a.length;b<c;b++)a[b]!==d&&e.push(a[b]);a=e},this.length=function(){return a.length}}function h(a,d){if(a){if(a.resizedAttached)return void a.resizedAttached.add(d);a.resizedAttached=new g,a.resizedAttached.add(d),a.resizeSensor=document.createElement("div"),a.resizeSensor.dir="ltr",a.resizeSensor.className="resize-sensor";var e="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",f="position: absolute; left: 0; top: 0; transition: 0s;";a.resizeSensor.style.cssText=e,a.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+e+'"><div style="'+f+'"></div></div><div class="resize-sensor-shrink" style="'+e+'"><div style="'+f+' width: 200%; height: 200%"></div></div>',a.appendChild(a.resizeSensor);var h=window.getComputedStyle(a).getPropertyValue("position");"absolute"!==h&&"relative"!==h&&"fixed"!==h&&(a.style.position="relative");var i,j,k,l,m=a.resizeSensor.childNodes[0],n=m.childNodes[0],o=a.resizeSensor.childNodes[1],p=b(a),q=p.width,r=p.height,s=function(){var b=0===a.offsetWidth&&0===a.offsetHeight;if(b){var c=a.style.display;a.style.display="block"}n.style.width="100000px",n.style.height="100000px",m.scrollLeft=1e5,m.scrollTop=1e5,o.scrollLeft=1e5,o.scrollTop=1e5,b&&(a.style.display=c)};a.resizeSensor.resetSensor=s;var t=function(){j=0,i&&(q=k,r=l,a.resizedAttached&&a.resizedAttached.call())},u=function(){var d=b(a),e=d.width,f=d.height;i=e!=q||f!=r,i&&!j&&(j=c(t)),s()},v=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c)};v(m,"scroll",u),v(o,"scroll",u),c(s)}}a(e,function(a){h(a,f)}),this.detach=function(a){d.detach(e,a)},this.reset=function(){e.resizeSensor.resetSensor()}};return d.reset=function(b,c){a(b,function(a){a.resizeSensor.resetSensor()})},d.detach=function(b,c){a(b,function(a){a&&(a.resizedAttached&&"function"==typeof c&&(a.resizedAttached.remove(c),a.resizedAttached.length())||a.resizeSensor&&(a.contains(a.resizeSensor)&&a.removeChild(a.resizeSensor),delete a.resizeSensor,delete a.resizedAttached))})},d}),function(a,b){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],b):"object"==typeof exports?module.exports=b(require("./ResizeSensor.js")):(a.ElementQueries=b(a.ResizeSensor),a.ElementQueries.listen())}("undefined"!=typeof window?window:this,function(a){var b=function(){function b(a){a||(a=document.documentElement);var b=window.getComputedStyle(a,null).fontSize;return parseFloat(b)||16}function c(a){if(!a.getBoundingClientRect)return{width:a.offsetWidth,height:a.offsetHeight};var b=a.getBoundingClientRect();return{width:Math.round(b.width),height:Math.round(b.height)}}function d(a,c){var d=c.split(/\d/),e=d[d.length-1];switch(c=parseFloat(c),e){case"px":return c;case"em":return c*b(a);case"rem":return c*b();case"vw":return c*document.documentElement.clientWidth/100;case"vh":return c*document.documentElement.clientHeight/100;case"vmin":case"vmax":var f=document.documentElement.clientWidth/100,g=document.documentElement.clientHeight/100,h=Math["vmin"===e?"min":"max"];return c*h(f,g);default:return c}}function e(a,b){this.element=a;var e,f,g,h,i,j,k,l,m=["min-width","min-height","max-width","max-height"];this.call=function(){g=c(this.element),j={};for(e in o[b])o[b].hasOwnProperty(e)&&(f=o[b][e],h=d(this.element,f.value),i="width"===f.property?g.width:g.height,l=f.mode+"-"+f.property,k="","min"===f.mode&&i>=h&&(k+=f.value),"max"===f.mode&&i<=h&&(k+=f.value),j[l]||(j[l]=""),k&&-1===(" "+j[l]+" ").indexOf(" "+k+" ")&&(j[l]+=" "+k));for(var a in m)m.hasOwnProperty(a)&&(j[m[a]]?this.element.setAttribute(m[a],j[m[a]].substr(1)):this.element.removeAttribute(m[a]))}}function f(b,c){b.elementQueriesSetupInformation||(b.elementQueriesSetupInformation=new e(b,c)),b.elementQueriesSensor||(b.elementQueriesSensor=new a(b,function(){b.elementQueriesSetupInformation.call()})),b.elementQueriesSetupInformation.call()}function g(a,b,c,d){if("undefined"==typeof o[a]){o[a]=[];var e=p.length;n.innerHTML+="\n"+a+" {animation: 0.1s element-queries;}",n.innerHTML+="\n"+a+" > .resize-sensor {min-width: "+e+"px;}",p.push(a)}o[a].push({mode:b,property:c,value:d})}function h(a){var b;if(document.querySelectorAll&&(b=a?a.querySelectorAll.bind(a):document.querySelectorAll.bind(document)),b||"undefined"==typeof $$||(b=$$),b||"undefined"==typeof jQuery||(b=jQuery),!b)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return b}function i(a){var b=h(a);for(var c in o)if(o.hasOwnProperty(c))for(var d=b(c,a),e=0,g=d.length;e<g;e++)f(d[e],c)}function j(b){function c(){var a,c=!1;for(a in d)d.hasOwnProperty(a)&&e[a].minWidth&&b.offsetWidth>e[a].minWidth&&(c=a);if(c||(c=g),h!==c)if(i[c])d[h].style.display="none",d[c].style.display="block",h=c;else{var j=new Image;j.onload=function(){d[c].src=f[c],d[h].style.display="none",d[c].style.display="block",i[c]=!0,h=c},j.src=f[c]}else d[c].src=f[c]}var d=[],e=[],f=[],g=0,h=-1,i=[];for(var j in b.children)if(b.children.hasOwnProperty(j)&&b.children[j].tagName&&"img"===b.children[j].tagName.toLowerCase()){d.push(b.children[j]);var k=b.children[j].getAttribute("min-width")||b.children[j].getAttribute("data-min-width"),l=b.children[j].getAttribute("data-src")||b.children[j].getAttribute("url");f.push(l);var m={minWidth:k};e.push(m),k?b.children[j].style.display="none":(g=d.length-1,b.children[j].style.display="block")}h=g,b.resizeSensor=new a(b,c),c()}function k(){for(var a=h(),b=a("[data-responsive-image],[responsive-image]"),c=0,d=b.length;c<d;c++)j(b[c])}function l(a){var b,c,d,e;for(a=a.replace(/'/g,'"');null!==(b=q.exec(a));)for(c=b[1]+b[3],d=b[2];null!==(e=r.exec(d));)g(c,e[1],e[2],e[3])}function m(a){var b="";if(a)if("string"==typeof a)a=a.toLowerCase(),-1===a.indexOf("min-width")&&-1===a.indexOf("max-width")||l(a);else for(var c=0,d=a.length;c<d;c++)1===a[c].type?(b=a[c].selectorText||a[c].cssText,-1!==b.indexOf("min-height")||-1!==b.indexOf("max-height")?l(b):-1===b.indexOf("min-width")&&-1===b.indexOf("max-width")||l(b)):4===a[c].type?m(a[c].cssRules||a[c].rules):3===a[c].type&&a[c].styleSheet.hasOwnProperty("cssRules")&&m(a[c].styleSheet.cssRules)}var n,o={},p=[],q=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,r=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,s=!1;this.init=function(){var b="animationstart";"undefined"!=typeof document.documentElement.style.webkitAnimationName?b="webkitAnimationStart":"undefined"!=typeof document.documentElement.style.MozAnimationName?b="mozanimationstart":"undefined"!=typeof document.documentElement.style.OAnimationName&&(b="oanimationstart"),document.body.addEventListener(b,function(b){var c=b.target,d=window.getComputedStyle(c,null);if(-1!==d.getPropertyValue("animation-name").indexOf("element-queries")){c.elementQueriesSensor=new a(c,function(){c.elementQueriesSetupInformation&&c.elementQueriesSetupInformation.call()});var e=window.getComputedStyle(c.resizeSensor,null),g=e.getPropertyValue("min-width");g=parseInt(g.replace("px","")),f(b.target,p[g])}}),s||(n=document.createElement("style"),n.type="text/css",n.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",n.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(n),s=!0);for(var c=0,d=document.styleSheets.length;c<d;c++)try{document.styleSheets[c].href&&0===document.styleSheets[c].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[c].href),m(document.styleSheets[c].cssRules||document.styleSheets[c].rules||document.styleSheets[c].cssText)}catch(a){}k()},this.findElementQueriesElements=function(a){i(a)},this.update=function(){this.init()}};b.update=function(){b.instance.update()},b.detach=function(a){a.elementQueriesSetupInformation?(a.elementQueriesSensor.detach(),delete a.elementQueriesSetupInformation,delete a.elementQueriesSensor):a.resizeSensor&&(a.resizeSensor.detach(),delete a.resizeSensor)},b.init=function(){b.instance||(b.instance=new b),b.instance.init()};var c=function(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var b=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(a(),clearInterval(b))},10);else window.onload=a};return b.findElementQueriesElements=function(a){b.instance.findElementQueriesElements(a)},b.listen=function(){c(b.init)},b});